(()=>{function t(t){return t?"object"==typeof t?JSON.parse(JSON.stringify(t)):t:t??null}function e(t,e,n){let i;try{for(i=0;i<e.length-1;i++)t=t[e[i]];return void 0!==n&&(t[e[i]]=n),t[e[i]]}catch(t){}}async function n(t,e){if("function"==typeof t){let n=t();if(!(n instanceof Promise)||e?.aborted)return;let i=async()=>e?e.aborted?void 0:await Promise.race([n,new Promise(t=>e.addEventListener("abort",()=>t()))]):await n,o=await i();return o?.default}return t}function i(t,e){for(let[n,i]of t)if(Array.isArray(i)){let o=i.indexOf(e);-1!==o&&(1===i.length?t.delete(n):i.splice(o,1))}else i===e&&t.delete(n)}var o=()=>{let t=[],e=!1,n=async()=>{let i=t.at(0);i?(await i(),t.shift(),n()):e=!1};return{add:i=>{t.push(i),e||(e=!0,n())},isEmpty:()=>0===t.length,size:()=>t.length}};async function s(){return new Promise(requestAnimationFrame)}var r={102:'incorrect directive name "%s", the name must start with the character "_".',103:'node property "%s" expects an object as its value.',104:'unknown node property: "%s".',105:"node with this name was not found in the template.",106:"innerHTML method is not secure due to XXS attacks, use _html or _evalHTML directives."},a={201:'section "%s" is not found in the template.',202:'section "%s" is not defined.',203:'"src" property must not be empty.',204:'section mounting is not available for iterable components. You can set the default component in the "sections".',205:'"iterate" property expects a function.',206:'"iterate" function must return an array.',207:'node is a section, the "component" property is not supported.',208:'node is iterable, the "component" property is not supported.',209:"iterable component must have a template.",210:"iterable component must have only one root tag in the template.",211:"component should have object as the object type.",212:'"induce" property expects a function as a value.',213:'param "%s" is already in props.',214:'proxy "%s" is already in props.',215:'"iterate" and "induce" property is not supported for sections.',216:"component module is undefined.",217:'"abortSignal" property must have the class AbortSignal.',218:'"aborted" property expects a function as a value.'},c={301:"parent component passes proxies, you need to specify them in props.",302:"waiting for an object.",303:"props is required.",304:'value does not match type "%s".',305:'method is not found in store "%s".',306:"parent component passes proxies, you need to specify them in props.",307:'store "%s" is not found.'},h=(t="root",e,n="")=>{console.error(`Lesta | Error creating component "${t}": ${a[e]}`,n)},d=class{constructor(t,e,n){this.component=t,this.app=e,this.proxiesData={},this.context={...e,mount:e.mount,phase:0,abortSignal:n,options:t,container:null,node:{},param:{},method:{},proxy:{},source:t.sources||{}}}async loaded(t){if(this.component.loaded)return await this.component.loaded.bind(this.context)(t)}async rendered(){return"object"!=typeof this.component?h(this.context.container.nodepath,211):this.component.rendered?await this.component.rendered.bind(this.context)():void 0}async created(){if(this.component.created)return await this.component.created.bind(this.context)()}methods(){if(this.context.container.method||(this.context.container.method={}),this.component.methods)for(let[e,n]of Object.entries(this.component.methods))this.context.method[e]=n.bind(this.context),this.context.container.method[e]=(...n)=>this.context.method[e](...t(n));Object.preventExtensions(this.context.method)}params(){if(this.component.params){for(let t in this.component.params)if(t in this.context.param)return h(this.context.container.nodepath,213,t);Object.assign(this.context.param,t(this.component.params))}Object.preventExtensions(this.context.param)}proxies(){if(this.component.proxies)for(let t in this.component.proxies){if(t in this.proxiesData)return h(this.context.container.nodepath,214,t);this.proxiesData[t]=this.component.proxies[t]}this.context.proxy=this.getProxy(),Object.preventExtensions(this.context.proxy)}};function p(t,e,n){let i=(t,e)=>{let n=t.split("."),i=e.split(".");for(let t=0;t<i.length;t++)if(n[t]!==i[t])return!1;return!0};for(let[o,s]of t)if(Array.isArray(s))s.includes(e)&&o(n);else if(i(e,s)){let t=[...e.split(".")||[]];t.shift(),o(n,t)}}var l={update:async(t,e)=>{let n="function"==typeof e?await e(t):e;void 0!==n&&(t.innerHTML="",t.append(...function(t){let e=function(t){let e=document.createElement("table");return e.innerHTML=t,e}(t);return function(t){for(let e of t.querySelectorAll("script"))e.remove()}(e),function t(e){for(let n of e.children)(function(t){for(let{name:e,value:n}of t.attributes)(function(t,e){let n=e.replace(/\s+/g,"").toLowerCase();if(["src","href","xlink:href"].includes(t)&&(n.includes("javascript:")||n.includes("data:text/html"))||t.startsWith("on"))return!0})(e,n)&&t.removeAttribute(e)})(n),t(n)}(e),e.childNodes}(n)))}},m={update:async(t,e)=>{let n="function"==typeof e?await e(t):e;void 0!==n&&(t.innerHTML=n)}},u={update:(t,e,n)=>{("function"==typeof e[n]?e[n](t):e[n])?t.classList.add(n):t.classList.remove(n)}},f={update:async(t,e)=>{let n="function"==typeof e?await e(t):e;void 0!==n&&(t.textContent=n)}},y=(t,e,n="")=>{console.error(`Lesta | Error in node "${t}": ${r[e]}`,n)},x={refs:[],collect:!1,exclude(t){this.collect=!1;let e=t();return this.collect=!0,e},define(t){return t&&t.startsWith("_")?this.refs[0]:[...this.refs]},clear(){this.collect=!1,this.refs.length=0}},b=class extends d{constructor(t,e,n,i){super(t,e,n),this.Nodes=i,this.impress=x,this.context={...this.context,exclude:this.impress.exclude.bind(this.impress),directives:{_html:l,_evalHTML:m,_class:u,_text:f,...e.directives,...t.directives}}}async props(){}async mounted(){this.component.mounted&&await this.component.mounted.bind(this.context)()}getProxy(){return function e(n,i,o=""){if(!(n&&("Object"===n.constructor.name||"Array"===n.constructor.name)))return n;for(let s in n=t(n))n[s]=e(n[s],i,`${o}${s}.`);return new Proxy(n,{getPrototypeOf:t=>({target:t,instance:"Proxy"}),get:(t,e,n)=>("symbol"==typeof e||i.get?.(t,`${o}${e}`),Reflect.get(t,e,n)),set:(t,n,s,r)=>"symbol"==typeof n?Reflect.set(t,n,s,r):!!i.beforeSet(s,`${o}${n}`,t=>s=t)||((Reflect.get(t,n,r)!==s||"length"===n||n.startsWith("__"))&&(s=e(s,i,`${o}${n}.`),Reflect.set(t,n,s,r),i.set(t,s,`${o}${n}`)),!0),deleteProperty:(t,e)=>Reflect.deleteProperty(t,e),defineProperty:(t,e,n)=>Reflect.defineProperty(t,e,n)})}(this.proxiesData,{beforeSet:(t,e,n)=>{if(this.component.setters?.[e]){let i=this.component.setters[e].bind(this.context)(t);if(void 0===i)return!0;n(i)}},set:(t,e,n)=>{for(let t in this.context.node){let i=this.context.node[t];for(let t in i.reactivity.node&&p(i.reactivity.node,n),i.reactivity.component&&p(i.reactivity.component,n,e),i.section)i.section[t]?.reactivity.component&&p(i.section[t].reactivity.component,n,e)}this.component.handlers?.[n]?.bind(this.context)(e)},get:(t,e)=>{this.impress.collect&&!this.impress.refs.includes(e)&&this.impress.refs.push(e)}})}async nodes(){if(this.component.nodes){let t=this.component.nodes.bind(this.context)(),e=this.context.container;for await(let[n,i]of Object.entries(t)){let t=this.component.selectors&&this.component.selectors[n]||`.${n}`,o=e.querySelector(t)||e.classList.contains(n)&&e,s=e.nodepath?e.nodepath+"."+n:n;if(o){if(o.nodepath=s,o.nodename=n,Object.assign(this.context.node,{[n]:o}),i){let t=new this.Nodes(i,this.context,o,this.impress,this.app,n);for await(let[e]of Object.entries(i))await t.controller(e)}}else y(s,105)}Object.preventExtensions(this.context.node)}}},v=(t="root",e,n,i,o="")=>{console.error(`Lesta | Error in props ${e} "${n}" in component "${t}": ${c[i]}`,o)},w=class{constructor(t,e,n){this.props=t,this.context=e,this.container=e.container,this.app=n}async setup(t){return this.props.proxies&&Object.keys(this.props.proxies).length&&!t?.proxies?v(this.container.nodepath,306):(this.container.proxy||(this.container.proxy={}),t)?(await this.params(t.params),await this.methods(t.methods),await this.proxies(t.proxies)):void 0}async proxies(n){if(n){for(let t in this.props.proxies)if(!n.hasOwnProperty(t))return v(this.container.nodepath,"proxies",t,301);let i={};for(let o in n){let s=n[o];if("object"!=typeof s)return v(this.container.nodepath,"proxies",o,302);let r=t=>{if(s.required&&null==t)return v(this.container.nodepath,"proxies",o,303);let e=t??s.default??null;return e&&s.type&&"array"===s.type&&!Array.isArray(e)&&typeof e!==s.type?v(this.container.nodepath,"proxies",o,304,s.type):e},a=this.context;this.container.proxy[o]=(t,n)=>{n&&0!==n.length?e(a.proxy[o],n,t):a.proxy[o]=r(t)};let c=null,{store:h}=s;if(this.props.proxies&&o in this.props.proxies)c=this.props.proxies[o];else if(h){let t=await this.context.store?.init(h);if(!t)return v(this.container.nodepath,"proxies",o,307,h);c=t.proxies(o,this.container)}i[o]=t(r(c))}return i}}async params(e){for(let n in e){let i=e[n];if("object"!=typeof i)return v(this.container.nodepath,"params",n,302);let o=async()=>{let{store:e}=i,o=null;if(e){let t=await this.context.store?.init(e);if(!t)return v(this.container.nodepath,"params",n,307,e);o=t.params(n)}else o=this.props?.params[n];return i.ignore?o:t(o)},s=this.context.param[n]=await o()??(i.required&&v(this.container.nodepath,"params",n,303)||i.default);s&&i.type&&"array"===i.type&&!Array.isArray(s)&&typeof s!==i.type&&v(this.container.nodepath,"params",n,304,i.type),i.readonly&&Object.defineProperty(this.context.param,n,{writable:!1})}}async methods(e){for(let n in e){let i=e[n];if("object"!=typeof i)return v(this.container.nodepath,"methods",n,302);let{store:o}=i;if(o){let e=await this.context.store?.init(o);if(!e)return v(this.container.nodepath,"methods",n,307,o);let i=e.methods(n);if(!i)return v(this.container.nodepath,"methods",n,305,o);this.context.method[n]=async(...e)=>await i(...t(e))}else{let e=this.props.methods&&n in this.props.methods;if(i.required&&!e)return v(this.container.nodepath,"methods",n,303);e&&(this.context.method[n]=async(...e)=>await this.props.methods[n](...t(e)))}}}},E={async init(t,e,n,i){let o=new w(t,n,i);return await o.setup(e)}},g=class extends b{constructor(...t){super(...t)}async props(){this.proxiesData=await E.init(this.context.options.inputs,this.component.props,this.context,this.app)||{}}destroy(t){for(let e in delete t.proxy,delete t.method,t.unstore)t.unstore[e]()}unmount(t){if(this.context.node)for(let t of Object.values(this.context.node)){if(t.unmount&&!t.hasAttribute("iterable")){if(t.section)for(let e of Object.values(t.section))e.unmount&&e.unmount();t.unmount()}if(t.directives)for(let e of Object.values(t.directives))e.destroy&&e.destroy()}this.component.unmounted&&this.component.unmounted.bind(this.context)(),delete t.unmount}},j=class{constructor(t,e,n,i,o,s){this.app=o,this.node=t,this.context=e,this.impress=i,this.nodeElement=n,this.keyNode=s,this.nodeElement.reactivity={node:new Map}}reactive(t,e,n){t.length&&n.set(e,t),this.impress.clear()}reactiveNode(t,e){this.reactive(t,e,this.nodeElement.reactivity.node)}},O={collect(t,e,n,i){return{params:this.params(t.params,n,i),methods:this.methods(t.methods),proxies:this.proxies(e),section:t.section}},proxies(t){if(t)return t||{}},methods(t){let e={};if(t)for(let[n,i]of Object.entries(t))"function"==typeof i&&Object.assign(e,{[n]:i});return e},params(t,e,n){let i={};if(t)for(let[o,s]of Object.entries(t))Object.assign(i,{[o]:"function"==typeof s&&s.name?e?s(e,n):s():s});return i}};async function A(t,e,n,i,o){if(t.sections){let s=async(s,r)=>{if(t.iterate)return h(n.section[s].nodepath,204);n.section[s].unmount?.(),r.src&&(r.section=s,await o(e,n,r,i(r.proxies,n.section[s],s)))};for await(let[e,i]of(n.section={},Object.entries(t.sections))){if(i.induce||i.iterate)return h(n.section[e].nodepath,215);let t=n.querySelector(`[section="${e}"]`);if(!t)return h(n.nodepath,201,e);t.reactivity||(t.reactivity={component:new Map}),Object.assign(n.section,{[e]:t}),i.src&&await s(e,i),t.mount=async t=>await s(e,t||i)}}}var T=class extends j{constructor(...t){super(...t),this.nodeElement.reactivity.component=new Map}reactiveComponent(t,e,n){let i=n||this.nodeElement;this.reactive(t,e,i.reactivity.component)}reactivate(t,e,n,i,o){let s={};if(t)for(let[r,a]of Object.entries(t))"function"==typeof a&&a.name?(this.impress.collect=!0,Object.assign(s,{[r]:n&&a.length?a(n[i],i):a(o)}),e(r,a),this.impress.clear()):Object.assign(s,{[r]:a});return s}async create(t,e,n,i,o,s){let{src:r,abortSignal:a,aborted:c,sections:d,ssr:p}=n;if(!r)return h(e.nodepath,203);let l=null;e.process||(e.process=!0,l=await this.app.mount(r,e,{abortSignal:a,aborted:c,sections:d,ssr:p,...O.collect(n,i,o,s)}),delete e.process),l&&await A(n,t,l,(e,n,i)=>void 0!==s?t(e,l.section[i],s):t(e,n),this.create.bind(this))}},L=class extends T{constructor(...t){super(...t),this.queue=o(),this.name=null,this.created=!1,this.nodeElement.removeChildren=()=>this.remove.bind(this)(0)}async init(){if("function"!=typeof this.node.component.iterate)return h(this.nodeElement.nodepath,205);if(this.createIterate=async t=>{this.created||(this.nodeElement.style.visibility="hidden"),console.log(this.nodeElement.children[t]);let e=this.proxies(this.node.component.proxies,this.nodeElement,t);await this.create(this.proxies.bind(this),this.nodeElement,this.node.component,e,this.data[t],t),this.created||(this.nodeElement.style.visibility="visible"),this.created=!0},this.impress.collect=!0,this.data=this.node.component.iterate(),this.data){if(!Array.isArray(this.data))return h(this.nodeElement.nodepath,206);this.name=this.impress.refs.at(-1),this.impress.clear(),this.nodeElement.setAttribute("iterate",""),"Proxy"===Object.getPrototypeOf(this.data).instance&&(this.reactiveComponent([this.name],async t=>{this.data=this.node.component.iterate(),t.length&&this.queue.add(async()=>{if(this.node.component.proxies){for(let[e,n]of Object.entries(this.node.component.proxies))if("function"==typeof n&&n.name&&n.length)for(let i=0;i<Math.min(this.nodeElement.children.length,t.length);i++){let t=n(this.data[i],i);this.nodeElement.children[i].proxy[e](t),this.sections(this.node.component.sections,this.nodeElement.children[i],i)}}}),this.queue.add(async()=>await this.length(t.length))}),this.reactiveComponent([this.name+".length"],async t=>{this.queue.add(async()=>await this.length(t))}));let t=async()=>await this.add(this.data.length);if(this.node.component.induce){if("function"!=typeof this.node.component.induce)return h(this.nodeElement.nodepath,212);this.impress.collect=!0;let e=this.node.component.induce();this.reactiveNode(this.impress.define(),async()=>{this.node.component.induce()?await t():this.nodeElement.removeChildren()}),e&&await t()}else await t()}}sections(t,e,n){if(t)for(let[i,o]of Object.entries(t))for(let[t,s]of Object.entries(o.proxies))"function"==typeof s&&s.name&&s.length&&(e.section[i]?.proxy[t](s(this.data[n],n)),this.sections(o.sections,e.section[i],n))}proxies(t,e,n){return this.reactivate(t,(t,i)=>{this.impress.refs.some(t=>t.includes(this.name))?this.reactiveComponent(this.impress.define(t),async(e,o)=>{this.queue.add(async()=>{if(o)o.shift(),this.nodeElement.children[n]?.proxy[t](e,o);else if(this.data=this.node.component.iterate(),n<this.data.length){let e=i(this.data[n],n);this.nodeElement.children[n]?.proxy[t](e)}})},e):this.created?this.impress.clear():this.reactiveComponent(this.impress.define(t),async(e,n)=>{this.nodeElement.process||this.queue.add(async()=>{for(let o=0;o<this.nodeElement.children.length;o++)n?this.nodeElement.children[o].proxy[t](e,n):this.nodeElement.children[o].proxy[t](i(this.data[o],o))})},e)},this.data,n)}async length(t){if(this.data=this.node.component.iterate(),this.data.length===t){let e=this.nodeElement.children.length;t>e&&await this.add(t),t<e&&this.remove(t)}}async add(t){let e=this.nodeElement.children.length;for(;t>e;)await this.createIterate(e),e++}remove(t){let e=this.nodeElement.children.length;for(;t<e;)e--,i(this.nodeElement.reactivity.component,this.name+"."+e),this.nodeElement.children[e].unmount()}},P=class extends T{constructor(...t){super(...t)}async init(){let t=async t=>await this.create(this.proxies.bind(this),this.nodeElement,t,this.proxies(t.proxies,this.nodeElement));if(this.nodeElement.mount=t,this.node.component.induce){if("function"!=typeof this.node.component.induce)return h(this.nodeElement.nodepath,212);this.impress.collect=!0;let e=this.node.component.induce();this.reactiveNode(this.impress.define(),async()=>{this.node.component.induce()?this.nodeElement.unmount||await t(this.node.component):this.nodeElement.unmount?.()}),e&&await t(this.node.component)}else this.node.component.src&&await t(this.node.component)}proxies(t,e){return this.reactivate(t,(t,n)=>this.reactiveComponent(this.impress.define(t),(i,o)=>{e.proxy&&e.proxy[t]&&(o?e.proxy[t](i,o):e.proxy[t](n()))},e),null,null,e)}},$=class extends j{constructor(...t){super(...t)}init(t){if("_"!==t[0])return y(this.nodeElement.nodepath,102,t);let e=this.context.directives[t],n=this.node[t],{create:i,update:o,destroy:s}=e;"directives"in this.nodeElement||Object.assign(this.nodeElement,{directives:{}}),Object.assign(this.nodeElement.directives,{[t]:{create:()=>i?i(this.nodeElement,n,e):{},destroy:()=>s?s(this.nodeElement,n,e):{}}}),i&&this.nodeElement.directives[t].create();let r=(t,n,i)=>{"function"==typeof t?(this.impress.collect=!0,o.bind(e)(this.nodeElement,n,i),this.reactiveNode(this.impress.define(),()=>o(this.nodeElement,n,i))):o.bind(e)(this.nodeElement,n,i)};if(null!=o){if("object"==typeof n)for(let t in n)r(n[t],n,t);else r(n,n)}}},S=class extends j{constructor(...t){super(...t)}listeners(t){"function"==typeof this.node[t]&&(this.nodeElement[t]=e=>this.node[t].bind(this.context)(e))}general(t){if("innerHTML"===t)return y(this.nodeElement.nodepath,106);if("function"==typeof this.node[t]){let e=()=>{let e=this.node[t].bind(this.context)(this.nodeElement);null!==this.nodeElement[t]&&"object"==typeof this.nodeElement[t]?null!==e&&"object"==typeof e?Object.assign(this.nodeElement[t],e):y(this.nodeElement.nodepath,103,t):this.nodeElement[t]=e!==Object(e)?e:JSON.stringify(e)};this.impress.collect=!0,e(),this.reactiveNode(this.impress.define(),e)}else this.nodeElement[t]=this.node[t]}init(t){"on"===t.substr(0,2)?this.listeners(t):this.general(t)}},M=class{constructor(t,e,n,i,o,s){this.app=o,this.node=t,this.context=e,this.impress=i,this.nodeElement=n,this.keyNode=s,this.directive=new $(t,e,n,i,o,s),this.native=new S(t,e,n,i,o,s)}async controller(t){t in this.nodeElement?this.native.init(t):t in this.context.directives?this.directive.init(t):"component"===t&&this.component?await this.component():y(this.nodeElement.nodepath,104,t)}},C=class extends M{constructor(...t){super(...t);let{node:e,context:n,nodeElement:i,impress:o,app:s,keyNode:r}=this;this.basic=new P(e,n,i,o,s,r),this.iterate=new L(e,n,i,o,s,r)}async component(){return this.nodeElement.hasAttribute("section")?h(this.nodeElement.nodepath,207):this.nodeElement.hasAttribute("iterable")?h(this.nodeElement.nodepath,208):void(this.node.component.iterate?await this.iterate.init():await this.basic.init())}};async function q(t,e,n){for await(let i of[async()=>await t.loaded(),async()=>{if(t.context.container=e(),"undefined"!=typeof document)return await t.rendered()},async()=>(await t.props(),t.params(),t.methods(),t.proxies(),await t.created()),async()=>{if(await t.nodes(),"undefined"!=typeof document)return await t.mounted()}]){let e=await i();if(t.context.phase++,t.context.abortSignal?.aborted||e){n&&n({phase:t.context.phase,data:e,abortSignal:t.context.abortSignal});return}}return t.context.container}async function N(t,e,i,o){let{signal:s,aborted:r,params:a,methods:c,proxies:d,sections:p,section:l,ssr:m}=o,u=i.nodepath||"root";!s||s instanceof AbortSignal||h(u,217),r&&"function"!=typeof r&&h(u,218);let f=await n(e,s);if(!f)return h(u,216);let y=new g(function t(e){if(e.mixins?.length){let n=["selectors","directives","params","proxies","methods","handlers","setters","sources"],i=["params","proxies","methods"],o=["loaded","rendered","created","mounted","unmounted"],s={props:{}},r=(t,e,n)=>({...t[n],...e[n]}),a=t=>{s.template=t.template||s.template,n.forEach(e=>{s[e]=r(s,t,e)}),o.forEach(e=>{let n=s[e];s[e]=async function(){let i=await n?.bind(this)();return i||(i=await t[e]?.bind(this)()),i}}),i.forEach(e=>{s.props[e]=r(s.props,t.props||{},e)});let e=s.nodes;s.nodes=function(){return{...e?.bind(this)(),...t.nodes?.bind(this)()}}};return e.mixins.forEach(e=>{a(t(e))}),a(e),s}return e}(f),t,s,C);return y.context.options.inputs={params:a,methods:c,proxies:d,sections:p},await q(y,()=>(function(t,e,n,i){let o={...e.context.options};if(n){let s=t.section[n];return s?(i||(s.innerHTML=o.template),s.nodepath=t.nodepath+"."+n,s.nodename=n,s.unmount=()=>{e.destroy(s),e.unmount(s),s.innerHTML=""},s):h(t.nodename,202,n)}if(t.hasAttribute("iterate")){if(!o.template)return h(t.nodepath,209);i||t.insertAdjacentHTML("beforeEnd",o.template);let n=t.children[t.children.length-1];return n.nodepath=t.nodepath,t.unmount||(t.unmount=()=>{e.destroy(t),t.removeChildren(),delete t.unmount}),n.setAttribute("iterable",""),n.unmount=async()=>{e.destroy(n),e.unmount(n),n.remove()},n}return o.template&&!i&&(t.innerHTML=o.template),t.unmount=()=>{e.destroy(t),e.unmount(t),t.innerHTML=""},t})(i,y,l,m),r)}async function H(t,e,n,i){if(!t)return h("root",216);!n||n instanceof AbortSignal||h("root",217),i&&"function"!=typeof i&&h("root",218);let o=new b(t,{},n,M);return await q(o,()=>{e.innerHTML=t.template,o.context.container=e},i),{destroy(){delete e.reactivity,delete e.method,e.innerHTML=""}}}window.lesta={createApp:function(t={}){return t.use=(e,n)=>e.setup(t,n),t.mount=async(e,n,i)=>await N(t,e,n,i),t},createWidget:H,debounce:function(t,e=120){return function(...n){let i=this.lastCall;this.lastCall=Date.now(),i&&this.lastCall-i<=e&&clearTimeout(this.lastCallTimer),this.lastCallTimer=setTimeout(()=>t(...n),e)}},throttling:function(t,e=50){let n;return function(...i){n||(n=setTimeout(()=>{t(...i),clearTimeout(n),n=null},e))}},delay:function(t){let e,n;let i=new Promise((o,s)=>{n=()=>{i.delaying=!1,clearTimeout(e),s()},e=setTimeout(()=>{i.delaying=!1,clearTimeout(e),o()},t||0)});return i.stop=n,i.delaying=!0,i},replicate:t,deliver:e,mapProps:function(t,e){let n={};return t.forEach(t=>Object.assign(n,{[t]:e})),n},deleteReactive:i,loadModule:n,uid:function(){let t=new Uint32Array(4);window.crypto.getRandomValues(t);let e=-1;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{let i=t[++e>>3]>>e%8*4&15;return("x"===n?i:3&i|8).toString(16)})},queue:o,deepFreeze:function t(e){return Object.freeze(e),Object.getOwnPropertyNames(e).forEach(n=>{let i=e[n];null===i||"object"!=typeof i&&"function"!=typeof i||Object.isFrozen(i)||t(i)}),e},nextRepaint:s}})();
//# sourceMappingURL=index.dd84448b.js.map
